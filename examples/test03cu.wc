wcnt-1.127/jwmsynth

samplerate  44100
bpm         100
signature   4/4

constant one    value 1.0   one

timer
t1
    timings
        time seconds 0.0 // note_on & start_wav_write
        time seconds 25.0 // stop_wav_write
    timings
t1

// timer t2
// used to trigger note_off for adsr
timer
t2
    timings
        time seconds 20.75 // note_off
    timings
t2

clock
vbclock1
    in_freq_mod1   off
    freq           0.125
    freq_mod1_size 1.0
vbclock1

clock
vbclock2
    in_freq_mod1   off
    freq           400.0
    freq_mod1_size 1.0
vbclock2


square_wave
2tonea
    in_phase_trig  osc2 out_phase_trig
    in_deg_size    osc2 out_deg_size
    in_pwm         wavemod out_output
    pulse_width   0.5
    pwm_size      0.75
    recycle_mode  off
2tonea

invert
wavemodi
    in_signal wavemod out_output
wavemodi

square_wave
2toneb
    in_phase_trig  osc2 out_phase_trig
    in_deg_size    osc2 out_deg_size
    in_pwm         wavemodi out_output
    pulse_width   0.5
    pwm_size      0.99
    recycle_mode  off
2toneb

sine_wave
wavemod
    in_phase_trig  vbclock1 out_phase_trig
    in_deg_size    vbclock1 out_deg_size
    recycle_mode         off
    on_trig_reset_phase  off
    phase_cycles         1.0
wavemod

constant freq value 880 freq

osc_clock
osc1
    in_note_on_trig    t1 out_trig
    in_note_slide_trig off
    in_frequency       freq out_output
    in_freq_mod1       2tonea out_output
    in_freq_mod2       2toneb out_output
    octave_offset    -1
    tuning_semitones 0.0
    portamento_time  0.0
// as the two freq modulation inputs are the same, having
// modulation sizes of 0.5 and 2.0 will cancel modulation out.
    freq_mod1_size   2.0
    freq_mod2_size   1.5
osc1

osc_clock
osc2
    in_note_on_trig    t1 out_trig
    in_note_slide_trig off
    in_frequency       freq out_output
    in_freq_mod1       2tonea out_output
    in_freq_mod2       2toneb out_output
    octave_offset    -2
    tuning_semitones 0.0
    portamento_time  0.0
    freq_mod1_size   2.0
    freq_mod2_size   1.5
osc2

osc_clock
osc3
    in_note_on_trig    t1 out_trig
    in_note_slide_trig off
    in_frequency       freq out_output
    in_freq_mod1       2tonea  out_output
    in_freq_mod2       off
    octave_offset    -4
    tuning_semitones 0.0
    portamento_time  20.0
    freq_mod1_size   4.0
    freq_mod2_size   2
osc3

user_wave
uwave1
    waveform
//        vertex
//            ud  0.0 ul 0.0
//            ld  0.0 ll 0.0
        vertex
            ud  20.0 ul -1.0
            ld  160.0 ll -1.0
        vertex
            ud  180.0 ul 0.0
            ld  180.0 ll 0.0
        vertex
            ud  200.0 ul 1.0
            ld  340.0 ll 1.0
//        vertex
//            ud  360.0 ul 0.0
//            ld  360.0 ll 0.0
    waveform
    in_phase_trig  osc1 out_phase_trig
    in_deg_size    osc1 out_deg_size
    in_level_mod   wavemod out_output
    in_time_mod    wavemod out_output
    recycle_mode    off
    zero_retrigger  off
uwave1

sine_wave
sw1o2
// inputs for sine_wave
    in_phase_trig  osc2 out_phase_trig
    in_deg_size    osc2 out_deg_size
// parameters for sine_wave
    recycle_mode         off
    on_trig_reset_phase  off
    phase_cycles         1.0
// outputs for sine_wave
// out_output
// out_play_state
sw1o2

sine_wave
swo3
// inputs for sine_wave
    in_phase_trig  osc3 out_phase_trig
    in_deg_size    osc3 out_deg_size
// parameters for sine_wave
    recycle_mode         off
    on_trig_reset_phase  off
    phase_cycles         1.0
// outputs for sine_wave
// out_output
// out_play_state
swo3

dynamic
uwd1
        amp_map
                dvertex
                        sigin_level     0.0
                        	so_ul   4.0
                        	so_ll   4.0
                dvertex
                        sigin_level     0.25
                        	so_ul   2.0
                        	so_ll   2.0
                dvertex
                        sigin_level     0.5
                        	so_ul   1.5
                        	so_ll   1.5
                dvertex
                        sigin_level     0.75
                        	so_ul   1.25
                        	so_ll   1.25
                dvertex
                        sigin_level     1.0
                        	so_ul   1.0
                        	so_ll   1.0
        amp_map

        in_signal               uwave1 out_output
        in_modulation           off

        up_thresh               1.0
        lo_thresh               0.0
        posneg_mirror           on
	use_ratios		on
uwd1


panner
uwdp1
// inputs for panner
    in_signal   uwd1 out_output
    in_pan_mod  sw1o2 out_output
// parameters for panner
    pan           0.5
    pan_mod_size  0.199
// outputs for panner
// out_l
// out_r
uwdp1

panner
uwdp1l
// inputs for panner
    in_signal   uwdp1 out_l
    in_pan_mod  swo3 out_output
// parameters for panner
    pan           0.5
    pan_mod_size  0.99
// outputs for panner
// out_l
// out_r
uwdp1l

panner
uwdp1r
// inputs for panner
    in_signal   uwdp1 out_r
    in_pan_mod  swo3 out_output
// parameters for panner
    pan           0.5
    pan_mod_size  0.99
// outputs for panner
// out_l
// out_r
uwdp1r

adsr
adsr1
    envelope
        section name attack	
            ut 5155.0      ul 0.65	
            lt 5155.0      ll 0.35
        section name decay
            ut 5045.0    ul 0.3986	
            lt 5045.0    ll 0.3985
        section name release
            ut 3500.0    ul 0.0	
            lt 3505.0    ll 0.0
    envelope
    in_note_on_trig  t1 out_trig
    in_note_off_trig t2 out_trig
    in_velocity      off
    up_thresh      1.0
    lo_thresh      0.45
    start_level    0.0
    sustain_state  on
    zero_retrigger off
adsr1

clock
lpfc
// inputs for clock
    in_freq_mod1  adsr1 out_output
// parameters for clock
    freq            600
    freq_mod1_size  2.0
lpfc

lp_filter
lpf1l
// inputs for lp_filter
    in_signal          uwdp1l out_l
    in_cutoff_degsize  lpfc out_deg_size
    in_feedback        epfd1l   out_output
    in_feedback_mod    uwave1 out_output
// parameters for lp_filter
    feedback          -1.75
    feedback_modsize  0.125
    wet/dry           1.0
// outputs for lp_filter
// out_output
// out_wet_output
lpf1l

dynamic
lpfd1l
        amp_map
                dvertex
                        sigin_level     0.0
                        	so_ul   4.0
                        	so_ll   4.0
                dvertex
                        sigin_level     0.25
                        	so_ul   2.0
                        	so_ll   2.0
                dvertex
                        sigin_level     0.5
                        	so_ul   1.5
                        	so_ll   1.5
                dvertex
                        sigin_level     0.75
                        	so_ul   1.25
                        	so_ll   1.25
                dvertex
                        sigin_level     1.0
                        	so_ul   1.0
                        	so_ll   1.0
        amp_map

        in_signal               lpf1l out_wet_output
        in_modulation           off

        up_thresh               1.0
        lo_thresh               0.0
        posneg_mirror           on
	use_ratios		on
lpfd1l

echo
echopfl
// inputs for echo
    in_signal        lpfd1l   out_output
    in_gain_mod      adsr1  out_output
    in_feedback      echopfl out_wet_output
    in_feedback_mod  uwdp1r out_r
// parameters for echo
    delay_time        35.0
    gain              1.0
    gain_modsize      1.0
    feedback          1
    feedback_modsize  0.75
    wet/dry           1.0
// outputs for echo
// out_output
// out_wet_output
echopfl

dynamic
epfd1l
        amp_map
                dvertex
                        sigin_level     0.0
                        	so_ul   4.0
                        	so_ll   4.0
                dvertex
                        sigin_level     0.25
                        	so_ul   2.0
                        	so_ll   2.0
                dvertex
                        sigin_level     0.5
                        	so_ul   1.5
                        	so_ll   1.5
                dvertex
                        sigin_level     0.75
                        	so_ul   1.0
                        	so_ll   1.0
                dvertex
                        sigin_level     1.0
                        	so_ul   0.80
                        	so_ll   0.75
                dvertex
                        sigin_level     2.0
                        	so_ul   0.5
                        	so_ll   0.5
        amp_map

        in_signal               echopfl out_wet_output
        in_modulation           off

        up_thresh               1.0
        lo_thresh               0.0
        posneg_mirror           on
	use_ratios		on
epfd1l

lp_filter
lpf1r
// inputs for lp_filter
    in_signal          uwdp1l out_r
    in_cutoff_degsize  lpfc out_deg_size
    in_feedback        epfd1r   out_output
    in_feedback_mod    uwave1 out_output
// parameters for lp_filter
    feedback          -1.75
    feedback_modsize  0.125
    wet/dry           1.0
// outputs for lp_filter
// out_output
// out_wet_output
lpf1r

dynamic
lpfd1r
        amp_map
                dvertex
                        sigin_level     0.0
                        	so_ul   4.0
                        	so_ll   4.0
                dvertex
                        sigin_level     0.25
                        	so_ul   2.0
                        	so_ll   2.0
                dvertex
                        sigin_level     0.5
                        	so_ul   1.5
                        	so_ll   1.5
                dvertex
                        sigin_level     0.75
                        	so_ul   1.25
                        	so_ll   1.25
                dvertex
                        sigin_level     1.0
                        	so_ul   1.0
                        	so_ll   1.0
        amp_map

        in_signal               lpf1r out_wet_output
        in_modulation           off

        up_thresh               1.0
        lo_thresh               0.0
        posneg_mirror           on
	use_ratios		on
lpfd1r

echo
echopfr
// inputs for echo
    in_signal        lpfd1r   out_output
    in_gain_mod      adsr1  out_output
    in_feedback      echopfr out_wet_output
    in_feedback_mod  uwdp1r out_l
// parameters for echo
    delay_time        35.0
    gain              1.0
    gain_modsize      1.0
    feedback          1
    feedback_modsize  0.75
    wet/dry           1.0
// outputs for echo
// out_output
// out_wet_output
echopfr

dynamic
epfd1r
        amp_map
                dvertex
                        sigin_level     0.0
                        	so_ul   4.0
                        	so_ll   4.0
                dvertex
                        sigin_level     0.25
                        	so_ul   2.0
                        	so_ll   2.0
                dvertex
                        sigin_level     0.5
                        	so_ul   1.5
                        	so_ll   1.5
                dvertex
                        sigin_level     0.75
                        	so_ul   1.0
                        	so_ll   1.0
                dvertex
                        sigin_level     1.0
                        	so_ul   0.80
                        	so_ll   0.75
                dvertex
                        sigin_level     2.0
                        	so_ul   0.5
                        	so_ll   0.5
        amp_map

        in_signal               echopfr out_wet_output
        in_modulation           off

        up_thresh               1.0
        lo_thresh               0.0
        posneg_mirror           on
	use_ratios		on
epfd1r




stereo_amp
amp1
    in_l   lpf1l out_output
    in_r   lpf1r out_output
    in_amp_eg   adsr1  out_output
    in_amp_mod  off
    left_amplitude     20000
    right_amplitude    20000
    amp_mod_size  0.0
    clip_level    32767
amp1

wavfile_out
wav1
    in_left     amp1  out_left
    in_right    amp1  out_right
    in_bar      t1 out_count
    in_bar_trig t1 out_trig
    filename    test03cu.wav
    start_bar   0
    end_bar     1
wav1

wcnt_exit
wcnt_exit_module
    in_bar   t1 out_count
    exit_bar 1
wcnt_exit_module

wcnt-1.127/jwmsynth
