wcnt-1.25/jwmsynth
//------------------------------------------------------------------------
// small.wc - a small and exceedingly short .wc file.
//------------------------------------------------------------------------

header header.wch

constant one value 1.0 one

timer t1
    timings
        time seconds 0.0
        time seconds 30.0
    timings
t1

clock
clock1
    in_freq_mod1   off
    freq            100.0
    freq_mod1_size  1.0
clock1

clock
clock2
    in_freq_mod1   off
    freq            300.5
    freq_mod1_size  1.0
clock2

sine_wave
sine1
    in_phase_trig   clock1 out_phase_trig
    in_deg_size     clock2 out_deg_size
    recycle_mode         on
    on_trig_reset_phase  off
    phase_cycles         1.5
sine1

tri_wave
tri1
    in_phase_trig   clock1  out_phase_trig
    in_deg_size     clock1 out_deg_size
    recycle_mode    off
    zero_retrigger  off
tri1

multiplier m1 in_signal g1.tri1 out_output in_modifier sine1 out_output m1

mono_amp
amp1
    in_signal   m1  out_output
    in_amp_eg   one out_output
    in_amp_mod  off
    amplitude       32767
    amp_mod_size    0.0
    clip_level      32767
amp1

group
g1
    modules
       synthmod name clock1
        synthmod name clock2
        synthmod name sine1
        synthmod name tri1
        synthmod name m1
        synthmod name amp1
    modules
g1

copier grpc1 from g1 to g2 grpc1

param_editor
g2_pe
    editlist
        edit g2.clock1
            freq    300.01
        edit g2.clock2
            freq    600
    editlist
g2_pe

wavfile_out wav1
    in_left     g2.amp1  out_mono
    in_right    g2.amp1  out_mono
    in_bar      t1 out_count
    in_bar_trig t1 out_trig
    filename    sine.wav
    start_bar   0
    end_bar     1
wav1

wcnt_exit
wcnt_exit_module
    in_bar      t1  out_count
    exit_bar    1
wcnt_exit_module

//------------------------------------------------------------------------
wcnt-1.25/jwmsynth
